<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Cluster</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
		<script type="text/Javascript">
		topMatrixJson = null;
		function cluster() {
			var req = new XMLHttpRequest();
			var formData = new FormData( document.getElementById("cluster_frm") );
			req.open("POST", "Cluster", true);
			req.onreadystatechange = function () {
				console.log('state change');
				if (req.readyState == req.DONE) {
					console.log('done');
			        if (req.status != 200) {
			        	console.log('not 200');
			            console.log('Failed to upload matrix '  + req.status);
			        } else {
			        	//Got corner of matrix data.
			        	console.log('200');
			        	topMatrixJson = req.response;
			        	topMatrixString = JSON.parse(req.response);
			        	document.getElementById('display').value = topMatrixString;
				    }
				}
			};
			req.send(formData);
		}
 		</script>   
       
        <form id="cluster_frm" onsubmit="return false;">
            Options:
            <button onclick="cluster()">Cluster</button> 
        </form>
       
        <br>
        <button onclick="window.location.href='/NGCHMBuilder_Step3.html'">Next</button>
    </body>
</html>