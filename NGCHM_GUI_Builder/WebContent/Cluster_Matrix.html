
<html lang="en">
    <head>
		<link rel="shortcut icon" href="ngChmIcon.ico">    	
    	<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-33437813-6"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'UA-33437813-6');
		</script>
    	
        <title>NG-CHM Builder</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	 	<script src="javascript/NGCHM_GUI_Util.js"></script>
	 	<script src="javascript/Cluster.js"></script>
		<link rel="stylesheet" href="css/NGCHM_GUI.css">
 		<script type="text/Javascript">
			NgChmGui.mapProperties = null;
		 	window.onload = function() {
				NgChmGui.UTIL.getHeatmapProperties(NgChmGui.CLUSTER.loadData);
				NgChmGui.UTIL.messageBoxConfigure();
		 	}
	 	</script>
     </head>
    <body style="font-family: sans-serif; font-size: 100%;">
  	   <div class="serviceHeader" id="serviceHeader">
 	        <div id="mda_header" class="serviceHeaderLogo">
	        	<a href="https://www.mdanderson.org/education-and-research/departments-programs-and-labs/departments-and-divisions/bioinformatics-and-computational-biology/index.html"  target="_blank">
	           		<img id="mdaLogo" src="images/mdabcblogo262x108.png" alt=""/>
	           </a>
	       	</div>
	 		<div id='mapInfo'>
		    	<div class="pageTitle">NG-CHM BUILDER: Cluster Matrix</div>
     			<div id="ngchmName" class="inputText" style="font-size: 14px;color: rgb(51, 51, 51);"></div>
 	  		</div>
      		<div id='optionsMode' class="image-container">
				<img id='optionsMode_btn' src='images/showAdvancedButton.png' alt='Show Standard or Advanced Features' onclick='NgChmGui.UTIL.toggleAdvanced();' />
			</div>
	    </div>   
        <br>
       	<div id="clusterDisplayContainer" class="display_container" style="position: relative">
	 		<div id="clusterSelection" class="data_entry_container" style="width: 25%">

	 	        	<div class="sec-header">Row Ordering Options:</div>
					<table class="data_entry">
						<tr><td>
				            <select name="RowOrder" id="RowOrder" onchange="NgChmGui.CLUSTER.setRowOrderVisibility();NgChmGui.UTIL.setBuildCluster('R');">
				  				<option value="Hierarchical">Hierarchical Clustering</option>
				  				<option value="Random">Random</option>
				  				<option value="Original">Original Order</option>
							</select>
						</td></tr>
						<tr><td>
						     <div id='row_distance' class='pref-header' style="display: none;">&nbsp;&nbsp;Distance:
				             <select name="RowDistance" id="RowDistance" onchange="NgChmGui.UTIL.setBuildCluster('R');">
				  				<option value="euclidean">Euclidean</option>
								<!-- <option value="binary">Binary</option>  ** breaks dendrogram-->
								<option value="manhattan">Manhattan</option>
								<option value="maximum">Maximum</option>
								<!-- <option value="canberra">Canberra</option> ** breaks dendrogram-->
								<option value="minkowski">Minkowski</option>	    
								<!-- <option value="correlation">Correlation</option>  ** breaks dendrogram-->	    
				 			</select>
				 			</div>
						</td></tr>
						<tr ><td>
						    <div id='row_method' class='pref-header' style="display: none;">&nbsp;&nbsp;Method:&nbsp;
				            <select name="RowAgglomeration" id="RowAgglomeration" onchange="NgChmGui.UTIL.setBuildCluster('R');">
								<option value="average">Average Linkage</option>
								<option value="complete">Complete Linkage</option>
								<option value="single">Single Linkage</option>
								<option value="ward" selected="true">Ward</option>
								<option value="mcquitty">Mcquitty</option>	    
								<!-- <option value="median">Median</option>	    ** these methods lead to broken clustering
								<option value="centroid">Centroid</option>	 -->
							</select></br>	
							</div>    
						</td></tr>
						<tr><td>
							<div class="advancedAction">
							    <div id='row_treecuts' class='pref-header' style="display: none;">
									<input id='rowAddCuts' type="checkbox" name="rowAddCuts" onclick="NgChmGui.UTIL.setBuildCluster('R');NgChmGui.CLUSTER.setRowCutVisibility();">Add Cluster-Based Covariate<br>				           
						    		<div id='row_treecuts_options' class='pref-header' style="display: none;">&nbsp;Name:
										<input name='rowCutsName' id='rowCutsName' maxlength='30' size='15' onchange="NgChmGui.UTIL.setBuildCluster('R');" style="font-size: 11.5;"></input>
										&nbsp;&nbsp;Clusters:
										<select name="rowCuts" id="rowCuts" onchange="NgChmGui.UTIL.setBuildCluster('R');">
										<option value="0">none</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
										<option value="9">9</option>
										<option value="10">10</option>
										</select>
									</div>
									<br>
								</div>
							</div>
						</td></tr>
					</table>
	 	        	<div class="sec-header">Column Ordering Options:</div>
					<table class="data_entry">
						<tr><td>
				            <select name="ColOrder" id="ColOrder" onchange="NgChmGui.CLUSTER.setColOrderVisibility();NgChmGui.UTIL.setBuildCluster('C');">
				  				<option value="Hierarchical">Hierarchical Clustering</option>
				  				<option value="Random">Random</option>
				  				<option value="Original">Original Order</option>
							</select> 
						</td></tr>
						<tr><td>
						    <div id='col_distance' class='pref-header' style="display: none;">&nbsp;&nbsp;Distance:
				            <select name="ColDistance" id="ColDistance"  onchange="NgChmGui.UTIL.setBuildCluster('C');">
				  				<option value="euclidean">Euclidean</option>
								<!-- <option value="binary">Binary</option> ** breaks dendrogram-->
								<option value="manhattan">Manhattan</option>
								<option value="maximum">Maximum</option>
								<!-- <option value="canberra">Canberra</option> ** breaks dendrogram-->
								<option value="minkowski">Minkowski</option>	    
								<!-- <option value="correlation">Correlation</option> ** breaks dendrogram-->	    
				 			</select>
				 			</div>
				 		</td></tr>
						<tr><td>
						    <div id='col_method' class='pref-header' style="display: none;">&nbsp;&nbsp;Method:&nbsp;
				            <select name="ColAgglomeration" id="ColAgglomeration"  onchange="NgChmGui.UTIL.setBuildCluster('C');">
								<option value="average">Average Linkage</option>
								<option value="complete">Complete Linkage</option>
								<option value="single">Single Linkage</option>
								<option value="ward" selected="true">Ward</option>
								<option value="mcquitty">Mcquitty</option>	    
								<!-- <option value="median">Median</option>	    ** these methods lead to broken clustering
								<option value="centroid">Centroid</option>	 -->
							</select><br/>	    
							</div>
						</td></tr>
						<tr><td>
							<div class="advancedAction">
							    <div id='col_treecuts' class='pref-header' style="display: none;">
									<input id='colAddCuts' type="checkbox" name="colAddCuts" onclick="NgChmGui.UTIL.setBuildCluster('C');NgChmGui.CLUSTER.setColCutVisibility();">Add Cluster-Based Covariate<br>				           
						    		<div id='col_treecuts_options' class='pref-header' style="display: none;">&nbsp;Name:
										<input name='colCutsName' id='colCutsName' maxlength='30' size='15' onchange="NgChmGui.UTIL.setBuildCluster('C');" style="font-size: 11.5;"></input>
										&nbsp;&nbsp;Clusters:
										<select name="colCuts" id="colCuts" onchange="NgChmGui.UTIL.setBuildCluster('C');">
										<option value="0">none</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
										<option value="9">9</option>
										<option value="10">10</option>
										</select>
									</div>
									<br>
								</div>
							</div>
						</td></tr>
					</table>					
					<br/>
					<img id='cluster_btn' src='images/applyButton.png' alt='Cluster the Data' style="vertical-align: bottom;" onclick='NgChmGui.UTIL.applySettings(NgChmGui.CLUSTER.applyClusterPrefs,NgChmGui.CLUSTER.clusteringComplete)' />
					<div class ='navigation_bar'>
				        <div id="clusterPrevButton"  class="prev_btn">  
								<img id='clusterPrev_btn' src='images/prevButton.png' alt='Go to previous step' onclick='NgChmGui.UTIL.gotoTransformScreen();' />
				        </div>   
				        <div id="clusterNextButton"  class="next_btn">  
				        	<img id='clusterNext_btn' src='images/nextButton.png' alt='Go to next step' onclick='NgChmGui.UTIL.applySettings(NgChmGui.CLUSTER.applyClusterPrefs,NgChmGui.CLUSTER.gotoCovariatesScreen)' />		
				        </div>
			        </div>   
		    </div>			
	        <div id="heatMapView" class="layout_display_container" style="width: 75%;">
	        	<div id="screenNotesDisplay"></div>
				<div id='NGCHMEmbed' style="background-color: white; height: 75%; margin-left: 10em; margin-top: 1.75em; padding: 5px"></div>
				<script src='javascript/ngchmWidget-min.js'></script>
				 <script> NgChmGui.UTIL.editWidgetForBuilder();</script> 
			</div>
		</div>   		
		<div id="message" style="display: none; position: absolute; background-color: rgb(230, 240, 255);"></div>
   </body>
</html>